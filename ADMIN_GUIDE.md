# üë®‚Äçüíº –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ LeadBot

## üéØ –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–ö–æ–º–∞–Ω–¥–∞: `/admin`

**–î–æ—Å—Ç—É–ø –∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ ADMIN_IDS**

## üìä –†–∞–∑–¥–µ–ª—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### 1. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç—ã
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ–≤—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### 2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å:
- –ü–æ–ª–Ω—ã–º –∏–º–µ–Ω–µ–º
- Username
- Telegram ID
- –°—Ç–∞—Ç—É—Å–æ–º

### 3. **–õ–∏–¥-–º–∞–≥–Ω–∏—Ç—ã**
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞–º–∏:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ª–∏–¥-–º–∞–≥–Ω–∏—Ç:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/admin` ‚Üí –õ–∏–¥-–º–∞–≥–Ω–∏—Ç—ã
2. –ù–∞–∂–º–∏—Ç–µ "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ª–∏–¥-–º–∞–≥–Ω–∏—Ç"
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ URL (Google Sheets –∏–ª–∏ PDF)
5. –ì–æ—Ç–æ–≤–æ!

### 4. **–¢—Ä–∏–ø–≤–∞–π–µ—Ä—ã (–ü—Ä–æ–¥—É–∫—Ç—ã)**
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### 5. **–ü—Ä–æ–≥—Ä–µ–≤**
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –ø—Ä–æ–≥—Ä–µ–≤–∞:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üìù –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–¥

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `scripts/init_lead_magnets.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ `lead_magnets_data`:

```python
{
    "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
    "type": LeadMagnetType.GOOGLE_SHEET,  # –∏–ª–∏ PDF, LINK
    "file_url": "https://–≤–∞—à–∞-—Å—Å—ã–ª–∫–∞",
    "message_text": "–¢–µ–∫—Å—Ç –ø—Ä–∏ –≤—ã–¥–∞—á–µ",
    "is_active": True,
    "sort_order": 1
}
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python scripts/init_lead_magnets.py
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –ø—Ä–æ–≥—Ä–µ–≤–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `app/services/warmup_service.py`, –º–µ—Ç–æ–¥ `create_default_scenario()`:

```python
{
    "type": WarmupMessageType.PAIN_POINT,  # –∏–ª–∏ SOLUTION, OFFER, FOLLOW_UP
    "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
    "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
    "order": 1,  # –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä
    "delay_hours": 24  # –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ —á–∞—Å–∞—Ö
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã —Ç—Ä–∏–ø–≤–∞–π–µ—Ä–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `scripts/init_tripwire.py`:

```python
tripwire_data = {
    "name": "30 –¥–Ω–µ–π –ø–æ –∫–Ω–∏–≥–µ –ù–∞–ø–æ–ª–µ–æ–Ω–∞ –•–∏–ª–ª–∞",
    "price": 900,  # –¶–µ–Ω–∞ –≤ —Ü–µ–Ω—Ç–∞—Ö (9‚Ç¨ = 900 —Ü–µ–Ω—Ç–æ–≤)
    "currency": "EUR",  # –ò–ª–∏ RUB, USD
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

## üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä—è–º–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ
python

>>> import sqlite3
>>> conn = sqlite3.connect('leadbot.db')
>>> cursor = conn.cursor()

# –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞
>>> cursor.execute("UPDATE lead_magnets SET name='–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ' WHERE id='...'")
>>> conn.commit()

# –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ–≤–∞
>>> cursor.execute("UPDATE warmup_messages SET text='–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç' WHERE id='...'")
>>> conn.commit()

# –ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –ø—Ä–æ–¥—É–∫—Ç–∞
>>> cursor.execute("UPDATE products SET price=990 WHERE id='...'")  # 9.90‚Ç¨
>>> conn.commit()

>>> conn.close()
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`:

```env
# –ö–∞–Ω–∞–ª
CHANNEL_ID=-1002540856356
CHANNEL_USERNAME=osnovaputi

# –ê–¥–º–∏–Ω—ã
ADMIN_IDS=1670311707,987654321  # –ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

# –ü—Ä–æ–≥—Ä–µ–≤
WARMUP_DELAY_HOURS=24  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
WARMUP_MAX_MESSAGES=5  # –ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π

# –î–æ–∂–∏–º
FOLLOW_UP_DELAY_HOURS=48  # –ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –¥–æ–∂–∏–º
MAX_FOLLOW_UPS=3  # –ú–∞–∫—Å–∏–º—É–º –¥–æ–∂–∏–º–æ–≤
```

## üîÑ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ –∏–ª–∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞
taskkill /F /IM python.exe

# 2. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
python scripts/init_all.py

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python main.py
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/leadbot.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 1.0.0  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 10.10.2024


