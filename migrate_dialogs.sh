#!/bin/bash

echo "üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–ª–æ–≥–æ–≤..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
if [ ! -f "leadbot.db" ]; then
    echo "‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö leadbot.db –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!"
    exit 1
fi

echo "üìÅ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–π–¥–µ–Ω–∞: leadbot.db"

# –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã –¥–∏–∞–ª–æ–≥–æ–≤
echo "üìù –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–∏–∞–ª–æ–≥–æ–≤..."
python3 scripts/migrate_dialogs.py

if [ $? -eq 0 ]; then
    echo "‚úÖ –¢–∞–±–ª–∏—Ü—ã –¥–∏–∞–ª–æ–≥–æ–≤ —Å–æ–∑–¥–∞–Ω—ã"
else
    echo "‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –¥–∏–∞–ª–æ–≥–æ–≤"
    exit 1
fi

# –°–æ–∑–¥–∞–µ–º –¥–∏–∞–ª–æ–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
echo "üìù –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é..."
python3 scripts/init_dialogs.py

if [ $? -eq 0 ]; then
    echo "‚úÖ –î–∏–∞–ª–æ–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–Ω—ã"
else
    echo "‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
    exit 1
fi

echo "üéâ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–ª–æ–≥–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìã –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:"
echo "‚Ä¢ –¢–∞–±–ª–∏—Ü–∞ dialogs"
echo "‚Ä¢ –¢–∞–±–ª–∏—Ü–∞ dialog_questions" 
echo "‚Ä¢ –¢–∞–±–ª–∏—Ü–∞ dialog_answers"
echo "‚Ä¢ –î–∏–∞–ª–æ–≥ '–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã'"
echo "‚Ä¢ –î–∏–∞–ª–æ–≥ '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞'"
echo ""
echo "üöÄ –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!"
