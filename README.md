# ü§ñ LeadBot - "–û–°–ù–û–í–ê P U T –ò"

Telegram-–±–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –ª–∏–¥–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂–∏ —Ç—Ä–∏–ø–≤–∞–π–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ "–û–°–ù–û–í–ê P U T –ò".

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ë–æ—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π –≤–æ—Ä–æ–Ω–∫—É –ø—Ä–æ–¥–∞–∂:
1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ** - –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø—Ä–æ–µ–∫—Ç–æ–º
2. **–õ–∏–¥-–º–∞–≥–Ω–∏—Ç** - –≤—ã–¥–∞—á–∞ "7-–¥–Ω–µ–≤–Ω–æ–≥–æ —Ç—Ä–µ–∫–µ—Ä–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∏ —Å–∏–ª—ã"
3. **–ü—Ä–æ–≥—Ä–µ–≤** - —Å–µ—Ä–∏—è –∏–∑ 5 —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞—Å—Å—ã–ª–∫–æ–π
4. **–û—Ñ—Ñ–µ—Ä** - –ø—Ä–æ–¥–∞–∂–∞ —Ç—Ä–∏–ø–≤–∞–π–µ—Ä–∞ "30 –¥–Ω–µ–π –ø–æ –∫–Ω–∏–≥–µ –ù–∞–ø–æ–ª–µ–æ–Ω–∞ –•–∏–ª–ª–∞" –∑–∞ 9‚Ç¨
5. **–î–æ–∂–∏–º** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –Ω–µ –∫—É–ø–∏–≤—à–∏—Ö

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Telegram Bot
BOT_TOKEN=your_bot_token_here
CHANNEL_ID=-1001234567890
CHANNEL_USERNAME=osnovaputi

# Database
DATABASE_URL=sqlite:///./leadbot.db

# Admin
ADMIN_IDS=1670311707

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/leadbot.log
DEBUG=False
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
python scripts/init_all.py
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python main.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
LeadBot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ keyboards/          # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ core/                   # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ models/                 # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ schemas/                # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ config/                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/                    # –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ tests/                      # –¢–µ—Å—Ç—ã
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

- **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- **LeadMagnet** - –ª–∏–¥-–º–∞–≥–Ω–∏—Ç—ã (–ø–æ–¥–∞—Ä–∫–∏)
- **WarmupScenario** - —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–≥—Ä–µ–≤–∞
- **Product** - –ø—Ä–æ–¥—É–∫—Ç—ã (—Ç—Ä–∏–ø–≤–∞–π–µ—Ä—ã)
- **ProductOffer** - –æ—Ñ—Ñ–µ—Ä—ã

### –°–µ—Ä–≤–∏—Å—ã

- **TelegramService** - —Ä–∞–±–æ—Ç–∞ —Å Telegram API
- **WarmupService** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ–≤–∞
- **LeadMagnetService** - –≤—ã–¥–∞—á–∞ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤
- **ProductService** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
- **SchedulerService** - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- **FollowUpService** - —Å–∏—Å—Ç–µ–º–∞ –¥–æ–∂–∏–º–æ–≤

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`
- –ë–æ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫
- –ö–Ω–æ–ø–∫–∞ "üéÅ –ó–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫"

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "üì∫ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª"
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ Telegram API

### 3. –õ–∏–¥-–º–∞–≥–Ω–∏—Ç
- –í—ã–¥–∞—á–∞ "7-–¥–Ω–µ–≤–Ω–æ–≥–æ —Ç—Ä–µ–∫–µ—Ä–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∏ —Å–∏–ª—ã"
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF –∏ Google Sheets
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–µ–≤–∞

### 4. –ü—Ä–æ–≥—Ä–µ–≤ (5 —Å–æ–æ–±—â–µ–Ω–∏–π)
1. **–ë–æ–ª—å** - "–ü–æ—á–µ–º—É —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π" (—Å—Ä–∞–∑—É)
2. **–†–µ—à–µ–Ω–∏–µ** - "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏—Å—Ç–µ–º–∞" (—á–µ—Ä–µ–∑ 24 —á–∞—Å–∞)
3. **–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ** - "–ö–Ω–∏–≥–∞ –•–∏–ª–ª–∞" (—á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤)
4. **–û—Ñ—Ñ–µ—Ä** - "30 –¥–Ω–µ–π –ø–æ –•–∏–ª–ª—É –∑–∞ 9‚Ç¨" (—á–µ—Ä–µ–∑ 72 —á–∞—Å–∞)
5. **–î–æ–∂–∏–º** - "–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å" (—á–µ—Ä–µ–∑ 120 —á–∞—Å–æ–≤)

### 5. –î–æ–∂–∏–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –æ—Ñ—Ñ–µ—Ä–∞
- –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∫—É–ø–∏–ª–∏ —Ç—Ä–∏–ø–≤–∞–π–µ—Ä
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

## üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

- `/admin` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
python scripts/init_all.py

# –¢–æ–ª—å–∫–æ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç—ã
python scripts/init_lead_magnets.py

# –¢–æ–ª—å–∫–æ —Ç—Ä–∏–ø–≤–∞–π–µ—Ä
python scripts/init_tripwire.py

# –¢–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ–≥—Ä–µ–≤–∞
python scripts/init_warmup.py
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥
- –£—Ä–æ–≤–Ω–∏: DEBUG, INFO, WARNING, ERROR
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (1 –¥–µ–Ω—å, 30 –¥–Ω–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è)

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–æ–≤
- –ü—Ä–æ–¥–∞–∂–∏ —Ç—Ä–∏–ø–≤–∞–π–µ—Ä–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ–≤–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è API
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (SQLAlchemy ORM)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=app

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_user_service.py
```

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–∏–¥-–º–∞–≥–Ω–∏—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª/—Å—Å—ã–ª–∫—É
2. –î–æ–±–∞–≤—å—Ç–µ –≤ –±–∞–∑—É —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç
3. –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø—Ä–æ–≥—Ä–µ–≤–∞

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `WarmupService.create_default_scenario()`
2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ñ—Ñ–µ—Ä—ã
3. –û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–ø–ª–∞—Ç—ã

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SchedulerService –∑–∞–ø—É—â–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–µ—Ä–∂–µ–∫

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø–ª–∞—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –æ–ø–ª–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/leadbot.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è "–û–°–ù–û–í–ê P U T –ò". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2024  
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** Senior Python Developer
